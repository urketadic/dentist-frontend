{"version":3,"sources":["components/CTAButton/CTAButton.jsx","components/FormInput/FormInput.jsx","components/Avatar/Avatar.jsx","redux/types.js","components/Header/Header.jsx","components/Loading/Loading.jsx","tools/validate-spanish-id.js","tools/validate.js","components/Message/Message.jsx","containers/Login/Login.jsx","components/Footer/Footer.jsx","img/implante.png","img/ortodoncia.png","img/protesis.png","img/endodoncia.png","img/odontopediatria.png","img/cirugia.png","components/BeforeAfter/ImageSlider/ImagesSlider.jsx","img/beforeafter/11.jfif","img/beforeafter/12.jfif","img/beforeafter/21.jfif","img/beforeafter/22.jfif","img/beforeafter/31.jfif","img/beforeafter/32.jfif","img/beforeafter/41.jfif","img/beforeafter/42.jfif","components/BeforeAfter/BeforeAfter.jsx","containers/Home/Home.jsx","containers/Register/Register.jsx","components/LeftMenu/LeftMenu.jsx","containers/Profile/Profile.jsx","img/pideTuCita.png","tools/map-dentist.js","components/DateTimePicker/DateTimePicker.jsx","containers/New-appointment/New-appointment.jsx","components/Switch/Switch.jsx","containers/Appointments/Appointments.jsx","containers/Admin/Admin.jsx","containers/AllAppointments/AllAppointments.jsx","components/Prices/Prices.jsx","App.js","reportWebVitals.js","redux/reducers/credentials-reducer.js","redux/reducers/menu-reducer.js","redux/reducers/message-reducer.js","redux/reducers/index.js","redux/store.js","index.js"],"names":["CTAButton","props","history","useHistory","styling","disabled","onClick","goto","push","phone","href","className","style","text","chat","FormInput","CInput","Input","type","onChange","useState","isActive","setIsActive","handleTextChange","key","value","name","e","target","maxLength","htmlFor","label","Avatar","letter","slice","toUpperCase","color","backgroundColor","LOGIN","LOGOUT","OPEN_MENU","CLOSE_MENU","UPDATE_USER","QUEUE_MESSAGE","DELETE_MESSAGE","connect","state","credentials","menu","right","left","logoClasses","home","dispatch","user","id","admin","Loading","classes","visible","size","validateSpanishID","str","DNI_REGEX","CIF_REGEX","NIE_REGEX","spainIdType","match","validDNI","dni","replace","charAt","parseInt","validNIE","nie","nie_prefix","substr","validCIF","cif","n","number","control","even_sum","odd_sum","i","length","control_digit","toString","control_letter","valid","validate","fields","context","errors","test","status","help","password","Message","setClasses","message","setMessage","useEffect","setTimeout","queuedmessage","cred","email","setCredentials","setErrors","loading","setLoading","updateCredentials","Object","keys","handleResponse","response","payload","data","newMessage","msg","Math","random","submit","errs","axios","post","then","catch","err","listener","event","code","document","addEventListener","removeEventListener","Item","validateStatus","Footer","today","Date","day","getDay","hour","getHours","textAlign","margin","marginTop","ImagesSlider","width","height","image2","image11","image1","image12","sliderColor","handleColor","rightLabelText","image21","image22","image31","image32","image41","image42","BeforeAfter","img11","img12","img21","img22","img31","img32","img41","img42","Home","marginRight","border","src","implante","protesis","endodoncia","ortodoncia","cirugia","Odontopediatria","alt","lastname","address","nif","born","passwordValidation","setUser","updateUser","sendData","userData","route","hideMenu","container","under","profile","myappointments","newappointment","location","pathname","labels","routes","split","updating","setUpdating","UserAge","floor","moment","diff","updateUserData","userId","token","put","headers","authorization","console","log","mapDentist","lefticon","xmlns","fill","stroke","viewBox","fillRule","d","righticon","DateTimePicker","page","setPage","nitems","setNitems","dates","loc","locale","npages","times","toLocaleDateString","month","weekday","j","map","time","toLocaleTimeString","minute","handler","handleResize","window","innerWidth","TextArea","Step","Steps","slots","setSlots","current","setCurrent","dentistId","date","comment","appointment","setAppointment","handleSlotResponse","appointmentData","endpointAppointments","setDentist","get","dateString","year","steps","title","content","fontWeight","placeholder","rows","item","FormSwitch","switchlabel","checked","appointments","setAppointments","pending","setPending","fetchAppointments","query","Switch","cancel","dentist","confirm","delete","format","User","Prices","cenovnik","allData","setAllData","filteredData","setFilteredData","result","toLowerCase","filter","search","handleSearch","index","price","App","path","exact","component","Login","Register","Profile","Appointments","NewAppointment","Admin","AllAppointments","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","credentialsReducer","action","menuReducer","messageReducer","rootReducer","combineReducers","store","applyMiddleware","save","states","createStore","createStoreWithMiddleware","reducer","load","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3bc94431.chunk.js","sourcesContent":["\r\nimport React from 'react';\r\n\r\nimport {useHistory} from 'react-router-dom';\r\n\r\nconst CTAButton = (props) => {\r\n\r\n    let history = useHistory();\r\n\r\n    const styling = 'CTAButton ' + (props.styling || 'CTA');\r\n    const disabled = 'CTAButton ' + 'disabled ' + (props.styling || 'CTA');\r\n\r\n    const route = () => {\r\n        if (props.goto == false) {\r\n            return \r\n        } else \r\n        {\r\n         history.push(`/${props.goto}`);\r\n\r\n        }\r\n    }\r\n    // <a href=\"javascript:void(Tawk_API.toggle())\"> Click to Chat </a>\r\n\r\n    let returned = () => {\r\n        if (props.phone) {\r\n            return <a href=\"tel:+381656360334\"> \r\n            <button onClick={onClick} className={styling} style={props.style}>\r\n                {props.text}\r\n            </button>\r\n            </a>\r\n        }\r\n        if (props.chat) {\r\n            return <a href=\"javascript:void(Tawk_API.toggle())\"> \r\n            <button onClick={onClick} className={styling} style={props.style}>\r\n                {props.text}\r\n            </button>\r\n            </a>\r\n        }\r\n        if (props.disabled) {\r\n            return   <button disabled onClick={onClick} className={disabled} style={props.style}>\r\n            {props.text}\r\n        </button>\r\n        }\r\n        else {\r\n            return <button onClick={onClick} className={styling} style={props.style}>\r\n                {props.text}\r\n            </button>\r\n        }\r\n    }\r\n\r\n    let onClick = () => route();\r\n    if (props.onClick) onClick = props.onClick;\r\n\r\n//     let returned = props.phone ? <a href=\"tel:+381656360334\"> \r\n//     <button onClick={onClick} className={styling} style={props.style}>\r\n//         {props.text}\r\n//     </button>\r\n//     </a> :         <button onClick={onClick} className={styling} style={props.style}>\r\n//     {props.text}\r\n// </button>\r\n\r\n    return(\r\n        returned()\r\n    )\r\n}\r\n\r\nexport default CTAButton;","\r\nimport React from 'react';\r\nimport { useState } from 'react';\r\n\r\nimport { Input } from 'antd';\r\nimport './Input.css';\r\nimport './FormInput.css';\r\n\r\nconst FormInput = (props) => {\r\n\r\n    let CInput = Input;\r\n    if (props.type) {\r\n        CInput = Input[props.type];\r\n    }\r\n\r\n    let onChange = ()=>{};\r\n    if(props.onChange) onChange = props.onChange;\r\n    \r\n    const [isActive, setIsActive] = useState(false);\r\n\r\n    const handleTextChange = (key,value) => {\r\n      \r\n        if (value !== '') {\r\n          setIsActive(true);\r\n        } else {\r\n          setIsActive(false);\r\n        }\r\n\r\n        onChange(key,value);\r\n\r\n    }\r\n\r\n    useState(()=>{\r\n        if (props.value) setIsActive(true);\r\n    },[])\r\n    \r\n    return(\r\n        <div className=\"formInput\">\r\n            <CInput value={props.value} name={props.name} onChange={(e) => handleTextChange(e.target.name,e.target.value)} maxLength={props.maxLength}/>\r\n            <label htmlFor={props.name} className={ isActive ? \"Active\" : \"\"}>\r\n                {props.label}\r\n            </label>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default FormInput;","\r\nimport React from 'react';\r\n\r\nimport {useHistory} from 'react-router-dom';\r\n\r\nconst Avatar = (props) => {\r\n\r\n    let history = useHistory();\r\n\r\n    const styling = 'Avatar ' + (props.styling || 'small');\r\n\r\n    const route = () => {\r\n        history.push(`/${props.goto}`);\r\n    }\r\n\r\n    let onClick = () => route();\r\n    if (props.onClick) onClick = props.onClick;\r\n\r\n    let letter = 'Ñ';\r\n    let name = '';\r\n    if (props.name) {\r\n        letter = props.name.slice(0,1).toUpperCase();\r\n        if (!props.styling || props.styling == 'small') name = props.name;\r\n    }\r\n    let style;\r\n    if (props.color) {\r\n        style = {backgroundColor: props.color};\r\n    }\r\n\r\n    return(\r\n        <div onClick={onClick} className={styling}>\r\n            <div className=\"avatarPic\" style={style}>\r\n                <div className=\"letter\">{letter}</div>\r\n            </div>\r\n            <div className=\"name\">{name}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Avatar;","export const LOGIN = 'login';\r\nexport const LOGOUT = 'logout';\r\nexport const OPEN_MENU = 'open_menu';\r\nexport const CLOSE_MENU = 'close_menu';\r\nexport const UPDATE_USER = 'update_user';\r\nexport const QUEUE_MESSAGE = 'queue_message';\r\nexport const DELETE_MESSAGE = 'delete_message';\r\n","import React from 'react';\r\nimport CTAButton from '../CTAButton/CTAButton'\r\nimport Avatar from '../Avatar/Avatar';\r\nimport {useHistory} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport {OPEN_MENU} from '../../redux/types';\r\n\r\n\r\n\r\nconst Header = (props)=>{\r\n\r\n    let history = useHistory();\r\n    let credentials =props.credentials;\r\n\r\n   // let credentials = JSON.parse(localStorage.getItem('credentials'));\r\n\r\n\r\n    const goHome = () => {\r\n        history.push('/');\r\n    }\r\n\r\n    const showMenu = () => {\r\n        props.dispatch({type : OPEN_MENU});\r\n    }\r\n\r\n    let right;\r\n    let left;\r\n    let logoClasses = 'logo';\r\n    if (props.home === 'true') {\r\n        // right = <CTAButton goto=\"login\" text=\"Login\" styling=\"CTA\"/>;\r\n        logoClasses = 'logo collapse';\r\n    } else {\r\n        left = <div className=\"menu\" onClick={()=>{showMenu();}}><div></div><div></div><div></div></div>\r\n    }\r\n\r\n    if (credentials.user?.id) {\r\n        if (credentials.user.admin) right = <Avatar name={credentials.user.name} color='#444' goto=\"admin\"></Avatar>\r\n        else right = <Avatar name={credentials.user.name} goto=\"profile\"></Avatar>\r\n        logoClasses = 'logo collapse';\r\n    }\r\n\r\n\r\n    return(\r\n        <header>\r\n            <div className='headerContainer'>\r\n                \r\n                <div className=\"menulogo\">\r\n                    {left}\r\n                    <div className={logoClasses} onClick={goHome}></div>\r\n                </div>\r\n\r\n                {right}\r\n                <CTAButton text=\"Cenovnik\" goto=\"cenovnik\"></CTAButton>\r\n            \r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default connect((state)=>({credentials:state.credentials,menu:state.menu}))(Header);","\r\nimport React from 'react';\r\n//import { useState } from 'react';\r\n\r\nimport { Spin } from 'antd';\r\nimport './Spin.css';\r\nimport './Loading.css';\r\n\r\nconst Loading = (props) => {\r\n\r\n    let classes = 'loadingContainer ';\r\n    if (props.visible) classes += 'visible';\r\n    \r\n    return(\r\n        <div className={classes}>\r\n            <Spin size=\"large\"></Spin>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Loading;","export default function validateSpanishID(str) {\r\n  \r\n  var DNI_REGEX = /^(\\d{8})[ -]*([A-Z])$/;\r\n  var CIF_REGEX = /^([ABCDEFGHJKLMNPQRSUVW])[ -]*(\\d{7})[ -]*([0-9A-J])$/;\r\n  var NIE_REGEX = /^[XYZ][ -]*\\d{7,8}[ -]*[A-Z]$/;\r\n\r\n  var validate = function( str ) {\r\n\r\n    // Ensure upcase and remove whitespace\r\n    str = str.toUpperCase().replace(/\\s/, '');\r\n    \r\n    var valid = false;\r\n    var type = spainIdType( str );\r\n\r\n    switch (type) {\r\n      case 'dni':\r\n        valid = validDNI( str );\r\n        break;\r\n      case 'nie':\r\n        valid = validNIE( str );\r\n        break;\r\n      case 'cif':\r\n        valid = validCIF( str );\r\n        break;\r\n    }\r\n\r\n    return {\r\n      type: type,\r\n      valid: valid\r\n    };\r\n\r\n  };\r\n\r\n  var spainIdType = function( str ) {\r\n    if ( str.match( DNI_REGEX ) ) {\r\n      return 'dni';\r\n    }\r\n    if ( str.match( CIF_REGEX ) ) {\r\n      return 'cif';\r\n    }\r\n    if ( str.match( NIE_REGEX ) ) {\r\n      return 'nie';\r\n    }\r\n  };\r\n\r\n  var validDNI = function( dni ) {\r\n    dni = dni.replace('-', '');\r\n    var dni_letters = \"TRWAGMYFPDXBNJZSQVHLCKE\";\r\n    var letter = dni_letters.charAt( parseInt( dni, 10 ) % 23 );\r\n    \r\n    return letter == dni.charAt(8);\r\n  };\r\n\r\n  var validNIE = function( nie ) {\r\n\r\n    // Change the initial letter for the corresponding number and validate as DNI\r\n    var nie_prefix = nie.charAt( 0 );\r\n\r\n    switch (nie_prefix) {\r\n      case 'X': nie_prefix = 0; break;\r\n      case 'Y': nie_prefix = 1; break;\r\n      case 'Z': nie_prefix = 2; break;\r\n    }\r\n\r\n    return validDNI( nie_prefix + nie.substr(1) );\r\n\r\n  };\r\n\r\n  var validCIF = function( cif ) {\r\n\r\n    var match = cif.match( CIF_REGEX );\r\n    var letter  = match[1],\r\n        number  = match[2],\r\n        control = match[3];\r\n\r\n    var even_sum = 0;\r\n    var odd_sum = 0;\r\n    var n;\r\n\r\n    for ( var i = 0; i < number.length; i++) {\r\n      n = parseInt( number[i], 10 );\r\n\r\n      // Odd positions (Even index equals to odd position. i=0 equals first position)\r\n      if ( i % 2 === 0 ) {\r\n        // Odd positions are multiplied first.\r\n        n *= 2;\r\n\r\n        // If the multiplication is bigger than 10 we need to adjust\r\n        odd_sum += n < 10 ? n : n - 9;\r\n\r\n      // Even positions\r\n      // Just sum them\r\n      } else {\r\n        even_sum += n;\r\n      }\r\n\r\n    }\r\n\r\n    var control_digit = (10 - (even_sum + odd_sum).toString().substr(-1) );\r\n    var control_letter = 'JABCDEFGHI'.substr( control_digit, 1 );\r\n\r\n    // Control must be a digit\r\n    if ( letter.match( /[ABEH]/ ) ) {\r\n      return control == control_digit;\r\n\r\n    // Control must be a letter\r\n    } else if ( letter.match( /[KPQS]/ ) ) {\r\n      return control == control_letter;\r\n\r\n    // Can be either\r\n    } else {\r\n      return control == control_digit || control == control_letter;\r\n    }\r\n\r\n  };\r\n\r\n  return validate(str);\r\n\r\n}","import validateSpanishID from './validate-spanish-id';\r\n\r\nexport default function validate(fields, context = 'register') {\r\n    let errors = {};\r\n    if (context=='login')\r\n    for (let key in fields) {\r\n        switch (key) {\r\n            case 'email':\r\n                if(! /^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/.test(fields[key]) )\r\n                errors[key] = {status: 'error', help: 'Por favor escriba un email válido.'};\r\n            break;\r\n            case 'password':\r\n                if(fields[key] == '')\r\n                errors[key] = {status: 'error', help: 'Por favor escriba su contraseña.'};\r\n            break;\r\n        }\r\n    }\r\n    else\r\n    for (let key in fields) {\r\n        switch (key) {\r\n            case 'email':\r\n                if(! /^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/.test(fields[key]) )\r\n                    errors[key] = {status: 'error', help: 'Por favor escriba un email válido.'};\r\n            break;\r\n            case 'name' :\r\n                if(! /^[a-zA-Z\\u00C0-\\u00FF]+(([',. -][a-zA-Z\\u00C0-\\u00FF ])?[a-zA-Z\\u00C0-\\u00FF]*)*$/.test(fields[key]))\r\n                    errors[key] = {status: 'error', help: 'Solo se admiten letras en el campo Nombre.'};\r\n            break;\r\n            case 'lastname' :\r\n                if(! /^[a-zA-Z\\u00C0-\\u00FF]+(([',. -][a-zA-Z\\u00C0-\\u00FF ])?[a-zA-Z\\u00C0-\\u00FF]*)*$/.test(fields[key]))\r\n                    errors[key] = {status: 'error', help: 'Solo se admiten letras en el campo Apellidos.'};\r\n            break;\r\n            case 'address':\r\n                if(fields[key] == '')\r\n                errors[key] = {status: 'error', help: 'Por favor proporcione su dirección.'};\r\n            break;\r\n            case 'phone' :\r\n                if(! /^(\\+34|0034|34)?[ -]*(6|7)[ -]*([0-9][ -]*){8}/.test(fields[key])\r\n                    && ! /^(\\+34|0034|34)?[ -]*(8|9)[ -]*([0-9][ -]*){8}/.test(fields[key]))\r\n                    errors[key] = {status: 'error', help: 'Por favor proporcione un teléfono fijo o móvil español válido.'};\r\n            break;\r\n            case 'born' :\r\n                if(! /^(19|20)\\d\\d([- /.])(0[1-9]|1[012])\\2(0[1-9]|[12][0-9]|3[01])$/.test(fields[key])\r\n                    /*&& ! /^(0[1-9]|[12][0-9]|3[01])[- /.](0[1-9]|1[012])[- /.](19|20)\\d\\d$/.test(fields[key])*/)\r\n                    errors[key] = {status: 'error', help: 'Por favor escriba una fecha del tipo 1990-10-22.'};\r\n            break;\r\n            case 'nif' :\r\n                if(!validateSpanishID(fields[key])?.valid)\r\n                    errors[key] = {status: 'error', help: 'Por favor proporcione un NIF, NIE o CIF válido.'};\r\n            break;\r\n            case 'password' :\r\n                if(! /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\\$%\\^&\\*])(?=.{8,})/.test(fields[key]))\r\n                    errors[key] = {status: 'error', help: 'La contraseña debe contener como mínimo 8 caracteres, mayúsculas, minúsculas, un número y algún caracter especial.'};\r\n            break;\r\n            case 'passwordValidation' :\r\n                if(fields[key] == '' || fields[key] != fields.password)\r\n                    errors[key] = {status: 'error', help: 'La contraseña no coincide con la original.'};\r\n            break;\r\n        }\r\n    }\r\n    return errors;\r\n}","import React from 'react';\r\nimport {useState, useEffect} from 'react';\r\n\r\n\r\nconst Message = (props)=>{\r\n\r\n    let style = 'messageContainer ';\r\n    if (props.style) style += props.style;\r\n    else style += 'error';\r\n\r\n    const [classes, setClasses] = useState('message');\r\n    const [message, setMessage] = useState();\r\n    \r\n    useEffect(()=>{\r\n        if (props.text != message) {\r\n            setClasses('message');\r\n            setMessage(props.text);\r\n            setClasses('message visible');\r\n            setTimeout(()=>{setClasses('message');},4000);\r\n            setTimeout(()=>{\r\n                setClasses('message hidden');\r\n            },5000);\r\n            return;\r\n        }\r\n    });\r\n\r\n\r\n    return(\r\n            <div className={style}>\r\n                \r\n                <div className={classes}>{message}</div>\r\n            \r\n            </div>\r\n    )\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\nimport { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport CTAButton from '../../components/CTAButton/CTAButton';\r\nimport FormInput from '../../components/FormInput/FormInput';\r\nimport Header from '../../components/Header/Header';\r\nimport Loading from '../../components/Loading/Loading';\r\nimport validate from '../../tools/validate';\r\nimport { Form } from 'antd';\r\nimport axios from 'axios';\r\nimport Message from '../../components/Message/Message';\r\nimport './Login.scss';\r\nimport {connect} from 'react-redux';\r\nimport {LOGIN,DELETE_MESSAGE} from '../../redux/types'\r\n\r\n\r\n\r\nconst Login = (props) => {\r\n\r\n    const history = useHistory();\r\n    \r\n    const cred = props.credentials;\r\n    //localStorage.getItem('credentials');\r\n    if (cred.user?.id)\r\n    if (cred.user.admin) history.push('/admin')\r\n    else history.push('/profile');\r\n\r\n    const [credentials, setCredentials] = useState({email:'',password:''});\r\n    const [errors, setErrors] = useState({});\r\n    const [loading, setLoading] = useState(false);\r\n    const [message, setMessage] = useState([]);\r\n\r\n    const updateCredentials = (key,value) => {\r\n        setCredentials({...credentials, [key]: value});\r\n        if (Object.keys(errors).length > 0) setErrors(validate({...credentials, [key]: value},'login'));\r\n    }\r\n\r\n    const handleResponse = (response) => {\r\n        if (response.status == 200) {\r\n           // localStorage.setItem('credentials',JSON.stringify(response.data));\r\n            props.dispatch({type:LOGIN,payload:response.data});\r\n            if (response.data.user.admin) history.push('/admin');\r\n            else history.push('/profile');\r\n        } else {\r\n            setLoading(false);\r\n            newMessage(response.data.message);\r\n        }\r\n    }\r\n\r\n    const newMessage = (msg, style = 'error') => {\r\n        const key = (~(Math.random()*99999));\r\n        setMessage([...message,<Message key={key} text={msg} style={style}></Message>]);\r\n    }\r\n\r\n    const submit = async () => {\r\n        \r\n        const errs = validate(credentials,'login');\r\n        setErrors(errs);\r\n\r\n        if (Object.keys(errs).length === 0) {\r\n            setLoading(true);\r\n            setTimeout(()=>{\r\n                axios.post('https://reactdent-b.herokuapp.com/login',credentials)\r\n                .then(handleResponse)\r\n                .catch((err)=>{handleResponse({data:{message:'Error de conexión.'}})});\r\n            },500);\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n    if (props.queuedmessage.text) {\r\n        newMessage(props.queuedmessage.text,props.queuedmessage.type);\r\n        props.dispatch({type:DELETE_MESSAGE});\r\n    }\r\n    },[]);\r\n\r\n    useEffect(() => {\r\n        const listener = event => {\r\n          if (event.code === \"Enter\" || event.code === \"NumpadEnter\") {\r\n            submit();\r\n          }\r\n        };\r\n        document.addEventListener(\"keydown\", listener);\r\n        return () => {\r\n          document.removeEventListener(\"keydown\", listener);\r\n        };\r\n    }, [credentials]);\r\n\r\n    return (\r\n        <>\r\n        <Header></Header>\r\n        <Loading visible={loading}></Loading>\r\n        <section className=\"loginContainer\">\r\n            {message}\r\n            <div className=\"login\">\r\n                <h2>Pozdrav!</h2>\r\n                <p>Ukucajte vasu mejl i lozinku da bi pristupili klijentskom nalogu.</p>\r\n                <div className=\"inputContainer\">\r\n                    <Form.Item validateStatus={errors.email?.status} help={errors.email?.help}>\r\n                        <FormInput label=\"Email\" name=\"email\" onChange={updateCredentials} maxLength=\"50\"></FormInput>\r\n                    </Form.Item>\r\n                </div>\r\n                <div className=\"inputContainer\">\r\n                    <Form.Item validateStatus={errors.password?.status} help={errors.password?.help}>\r\n                        <FormInput type=\"Password\" label=\"Lozinka\" name=\"password\" onChange={updateCredentials} maxLength=\"99\"></FormInput>\r\n                    </Form.Item>\r\n                </div>\r\n                <div className=\"buttonContainer\">\r\n                    <CTAButton goto=\"login\" text=\"Pristup\" styling=\"CTA\" onClick={()=>submit()}/>\r\n                </div>\r\n            </div>\r\n            <div className=\"separator\">\r\n                \r\n            </div>\r\n            <div className=\"register\">\r\n                <h3>Niste registrovani?</h3>\r\n                <p>Registracijom dobijate pregled svih termina koje ste imali sa nama kao i lakše automatizovano online zakazivanje budućih termina.</p>\r\n                <div className=\"buttonContainer\">\r\n                    <CTAButton goto=\"register\" text=\"Registracija\" styling=\"alt\"/>\r\n                </div>\r\n            </div>\r\n        </section>\r\n        <footer>\r\n            \r\n        </footer>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default connect((state)=>({credentials: state.credentials,queuedmessage:state.message}))(Login);","import React from 'react';\nimport './Footer.scss';\n\nconst Footer = (props) => {\n\n\n    let today = new Date();\n    let day = today.getDay();\n    let hour = today.getHours();\n\n    const result = () => {\n        if ( day >= 1 && day < 6) {\n            if (hour >= 9 && hour < 17) {\n                return <p> Danas smo <span style={{color:\"green\"}}> otvoreni </span> do 17h. </p>\n            }\n        }\n\n        if (day == 6) {\n            if (hour >=9 && hour < 14) {\n                return <p> Danas smo <span style={{color:\"green\"}}> otvoreni </span> do 14h.</p>\n            }\n        }\n\n        if (day == 7) {\n            return <p> Nedeljom smo <span style={{color:\"red\"}}> zatvoreni </span> </p>\n        }\n\n        else {\n            return <p> Trenutno smo <span style={{color:\"red\"}}> zatvoreni </span></p>\n        }\n    }\n\n    return (\n        <footer className='Footer'>\n\n            <div className='FooterContent'>\n            \n                <div className=\"workinghours\">\n                    <h3>Radno vreme</h3> \n\n                    {result()}\n\n                    <div style={{textAlign:\"justify\"}}>\n                        <p style={{margin: '0px'}}>Radni dani:  09h do 17h</p>\n                        <p style={{margin: '0px'}}>Subota: 09h do 14h</p>\n                    </div>\n                </div>\n\n\n                <div className=\"adress\">\n\n                    <h3>Kontakt</h3>\n\n                    <div>\n                        <div style={{textAlign:\"justify\"}}>\n                            <p style={{margin: '0px'}}>TELEFON: <a href=\"tel:+381656360334\">065 636 0334</a></p>\n                            <p style={{margin: '0'}}>E-MAIL: <a href=\"mailto:dr.vanja.stepanovic@gmail.com\">dr.vanja.stepanovic@gmail.com</a></p>\n                            <p style={{marginTop: '0'}}>LIVE CHAT: 💬 u donjem desnom uglu sajta</p>\n                       \n\n                        <p><a href='https://www.instagram.com/dr.vanja.ljubinkovic/' target=\"_blank\"><i className=\"fa-brands fa-facebook\"></i> </a>   <a href='https://www.facebook.com/dr.vanja.stepanovic' target=\"_blank\"><i className=\"fa-brands fa-square-instagram\"></i> </a>  \n                        <a href='https://www.youtube.com/channel/UCwzZo7LiUC9KivMKc-VgBQg/featured' target=\"_blank\"><i className=\"fa-brands fa-youtube\"></i> </a> </p>\n\n                        </div>\n                        \n                    </div>\n               \n                </div>\n\n                <div className=\"contact\">\n\n                    <h3>Lokacija</h3>\n                    <div style={{textAlign:\"justify\"}}>\n                        <p>Loznica, Vojvode Mišića 2G </p>\n                        <p>Tržni centar Voćar City</p>\n                    </div>\n                </div>\n\n            </div>\n       </footer>\n              \n        \n    )\n}\n\nexport default Footer;\n\n\n\n\n\n\n\n\n\n","export default __webpack_public_path__ + \"static/media/implante.9c8c0cdc.png\";","export default __webpack_public_path__ + \"static/media/ortodoncia.ec8f3fd3.png\";","export default __webpack_public_path__ + \"static/media/protesis.517bcb2d.png\";","export default __webpack_public_path__ + \"static/media/endodoncia.9262d0a8.png\";","export default __webpack_public_path__ + \"static/media/odontopediatria.41b5a06a.png\";","export default __webpack_public_path__ + \"static/media/cirugia.1e2f556a.png\";","import React from 'react';\nimport ImageSlider from \"react-image-comparison-slider\";\nimport './ImagesSlider.scss';\n\nconst ImagesSlider = (props) => {\n    return (\n        <div className='bamain'>\n\n            <div style={{ width: '30em', height: '25em' }}>\n                <ImageSlider\n                    image2={props.image11}\n                    image1={props.image12}\n                    sliderColor=\"#FF518F\"\n                    handleColor=\"#FF518F\"\n                    rightLabelText=\"metalo keramički most\"\n                />\n\n            </div>\n\n            <div style={{ width: '30em', height: '25em' }}>\n                <ImageSlider\n                    image2={props.image21}\n                    image1={props.image22}\n                    sliderColor=\"#FF518F\"\n                    handleColor=\"#FF518F\"\n                    rightLabelText=\"metalo keramički most\"\n                />\n            </div>\n\n            <div style={{ width: '30em', height: '25em' }}>\n                <ImageSlider\n                    image2={props.image31}\n                    image1={props.image32}\n                    sliderColor=\"#FF518F\"\n                    handleColor=\"#FF518F\"\n                    rightLabelText=\"most + beljenje\"\n                />\n            </div>\n\n            <div style={{ width: '30em', height: '25em' }}>\n                <ImageSlider\n                    image2={props.image41}\n                    image1={props.image42}\n                    sliderColor=\"#FF518F\"\n                    handleColor=\"#FF518F\"\n                    rightLabelText=\" lasersko beljenje zuba\"\n                    // onSlide={() => {\n                    // console.log(\"sliding\");\n                    // }}\n                />\n            </div>\n\n            \n\n        </div>\n    )\n\n}\n\n\nexport default ImagesSlider;","export default __webpack_public_path__ + \"static/media/11.40b25121.jfif\";","export default __webpack_public_path__ + \"static/media/12.bec15a8f.jfif\";","export default __webpack_public_path__ + \"static/media/21.89c793c1.jfif\";","export default __webpack_public_path__ + \"static/media/22.25d8fc16.jfif\";","export default __webpack_public_path__ + \"static/media/31.603b9e87.jfif\";","export default __webpack_public_path__ + \"static/media/32.90d1b870.jfif\";","export default __webpack_public_path__ + \"static/media/41.539f3682.jfif\";","export default __webpack_public_path__ + \"static/media/42.6c8cd98f.jfif\";","import React from 'react';\nimport ImagesSlider from './ImageSlider/ImagesSlider'\n\nimport img11 from '../../img/beforeafter/11.jfif';\nimport img12 from '../../img/beforeafter/12.jfif';\n\nimport img21 from '../../img/beforeafter/21.jfif';\nimport img22 from '../../img/beforeafter/22.jfif';\n\nimport img31 from '../../img/beforeafter/31.jfif';\nimport img32 from '../../img/beforeafter/32.jfif';\n\nimport img41 from '../../img/beforeafter/41.jfif';\nimport img42 from '../../img/beforeafter/42.jfif';\n\n\nconst BeforeAfter = (props) => {\n    return (\n        <ImagesSlider image11={img11}\n                      image12={img12}\n\n                      image21={img21}\n                      image22={img22}\n\n                      image31={img31}\n                      image32={img32}\n\n                      image41={img41}\n                      image42={img42}\n                      />\n    )\n\n}\n\nexport default BeforeAfter;","import React from 'react';\r\nimport CTAButton from '../../components/CTAButton/CTAButton';\r\nimport Header from '../../components/Header/Header';\r\nimport Footer from '../../components/Footer/Footer';\r\nimport implante from '../../img/implante.png';\r\nimport '../Home/Home.scss';\r\nimport ortodoncia from '../../img/ortodoncia.png';\r\nimport protesis from '../../img/protesis.png';\r\nimport endodoncia from '../../img/endodoncia.png';\r\nimport Odontopediatria from '../../img/odontopediatria.png';\r\nimport cirugia from '../../img/cirugia.png';\r\nimport BeforeAfter from '../../components/BeforeAfter/BeforeAfter';\r\n\r\nconst Home =()=>{\r\n\r\n    return(\r\n        <div className='vistaHome'>\r\n            \r\n            <Header home=\"true\"></Header>\r\n                \r\n            <main className='vistaMain'>\r\n                <div className=\"sloganContainer\">\r\n                    <div className=\"slogan\">\r\n                        <div className=\"sloganText\">\r\n                            <h2>¿Treba vam zubar?<br/>\r\n                            <span className=\"reacciona\">Savršenstvo</span>  je naš standard. </h2>\r\n                            Pozovite nas ili zakažite termin onlajn.\r\n                            <div className=\"buttonContainer\">\r\n                                <CTAButton text=\"065 687 0334\" phone={true} goto={false} style={{marginRight: '0.5em'}}></CTAButton>\r\n                                <CTAButton text=\"Onlajn Chat\" chat={true} goto={false} style={{marginRight: '0.5em'}}></CTAButton>\r\n                                <CTAButton text=\"Profil (uskoro)\" disabled={true} goto={false}></CTAButton>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"dentist\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <iframe className=\"gMap\" style={{border:0}}\r\nsrc=\"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1691.1739379909784!2d19.22257906968555!3d44.53145123339046!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0xb5f5e79e5e563bc5!2sTr%C5%BEni%20centar%20Vo%C4%87ar%20City!5e0!3m2!1sen!2sde!4v1663258322221!5m2!1sen!2sde\"></iframe>\r\n             \r\n                <div className=\"descripcion\">\r\n                <h2>PRE I POSLE</h2>\r\n                    <p className=\"emphasys\">Imamo tim najboljih specijalista i opreme sa najnovijom tehnologijom. Ispod možete videti pre i posle slike nekih naših pacijenata.</p>\r\n                    <BeforeAfter />\r\n                    <p>Za vise slika možete posetiti <a href='https://www.instagram.com/dr.vanja.ljubinkovic'>Instagram</a> ili <a href='https://www.facebook.com/dr.vanja.stepanovic'>Facebook</a> </p>\r\n\r\n                    <div className=\"separator\"></div>\r\n                    <div className=\"tratamientos\">\r\n\r\n                        <h2 style={{textAlign: 'center'}}>SERVISI</h2>\r\n                        <p className=\"emphasys\">Konsultacije su besplatne, za bilo kakvo pitanje možete nam poslati poruku u donjem desnom uglu ili nas pozvati.</p>\r\n                        <br></br>\r\n                        <div className=\"coleccionespecialidades\">\r\n                            <div className='vistaDivEspecialidades'>\r\n                                <div className= \"especialidad\">\r\n                                <img src={implante} />\r\n                                </div>\r\n                                <h3>Implanti</h3>\r\n                                <p>Zubni implant je titanijumski koren koji se postavlja kao oslonac za zamenu zuba koji je pacijent izgubio.</p>\r\n                                \r\n                            </div>\r\n                            <div className='vistaDivEspecialidades'>\r\n                                <div className=\"especialidad\">\r\n                                <img src={protesis} />\r\n                                </div>\r\n                                <h3>Proteze</h3>\r\n                                <p>Zubne proteze su lažni zubi koji zamenjuju prirodne zube. Mogu da zamene jedan ili više zuba.</p>\r\n\r\n                            </div>\r\n                            <div className='vistaDivEspecialidades'>\r\n                                <div className=\"especialidad\">\r\n                                    <img src={endodoncia} />\r\n                                </div>\r\n                                <h3>Endodoncija</h3>\r\n                                <p>Neophodan tretman kada pacijent ima infekciju ili ireverzibilni pulpitis zuba.</p>\r\n                            </div>\r\n                            <div className='vistaDivEspecialidades'>\r\n                                <div className=\"especialidad\">\r\n                                <img src={ortodoncia} />\r\n                                </div>\r\n                                <h3>Ortodoncija</h3>\r\n                                <p>Oblast stomatologije koja ispravlja nepravilan položaj zuba kako bi se postavili na svoje pravo mesto.</p>\r\n                            </div>\r\n                            <div className='vistaDivEspecialidades'>\r\n                                <div className=\"especialidad\">\r\n                                <img src={cirugia} />\r\n                                </div>\r\n                                <h3>Oralna hirurgija</h3>\r\n                                <p>Dijagnoza, prevencija i ponekad lečenje oralnih patologija..</p>\r\n                            </div>\r\n                            <div className='vistaDivEspecialidades'>\r\n                                <div className=\"especialidad\">\r\n                                    <img src={Odontopediatria} alt=\"\"/>\r\n                                </div>\r\n                                <h3>Dečija stomatologija</h3>\r\n                                <p>Oblast stomatologije koja je zadužena za oralnu negu dece od rođenja do 16 godina.</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n \r\n                </div>\r\n                <div className=\"vistaClinica\"></div>\r\n            </main>\r\n\r\n            <Footer />\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home;","import React, { useCallback, useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Header from \"../../components/Header/Header\";\r\nimport validate from \"../../tools/validate\";\r\nimport axios from \"axios\";\r\nimport CTAButton from \"../../components/CTAButton/CTAButton\";\r\nimport FormInput from \"../../components/FormInput/FormInput\";\r\nimport { Form } from 'antd';\r\nimport \"./Register.scss\";\r\nimport Loading from \"../../components/Loading/Loading\";\r\nimport Message from \"../../components/Message/Message\";\r\nimport {connect} from 'react-redux';\r\nimport {QUEUE_MESSAGE} from '../../redux/types';\r\n\r\nconst Register = (props) => {\r\n\r\n  let history = useHistory();\r\n    \r\n  const cred = props.credentials;\r\n  //localStorage.getItem('credentials');\r\n  if (cred.user?.id)\r\n  if (cred.user.admin) history.push('/admin')\r\n  else history.push('/profile');\r\n\r\n  const [user, setUser] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    name: \"\",\r\n    lastname: \"\",\r\n    address: \"\",\r\n    nif: \"\",\r\n    born: \"\",\r\n    phone: \"\",\r\n    passwordValidation: \"\"\r\n  });\r\n\r\n  const [message, setMessage] = useState([]);\r\n  const [errors, setErrors] = useState({});\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Manejar el estado\r\n\r\n  const updateUser = (key, value) => {\r\n    setUser({ ...user, [key]: value });\r\n    if (Object.keys(errors).length > 0) setErrors(validate({ ...user, [key]: value }, \"register\"));\r\n  };\r\n\r\n  // Envio de datos del registro\r\n\r\n  const sendData = async () => {\r\n    const errs = validate(user, \"register\");\r\n    setErrors(errs);\r\n\r\n    if (Object.keys(errs).length > 0) return;\r\n\r\n    let userData = {\r\n      email: user.email,\r\n      password: user.password,\r\n      name: user.name,\r\n      lastname: user.lastname,\r\n      address: user.address,\r\n      nif: user.nif,\r\n      born: user.born,\r\n      phone: user.phone,\r\n    };\r\n\r\n    setLoading(true);\r\n    setTimeout(() => {\r\n      axios\r\n        .post(\"https://reactdent-b.herokuapp.com/users\", userData)\r\n        .then(handleResponse)\r\n        .catch((err) => {\r\n          handleResponse({ data: { message: \"Error de conexión.\" } });\r\n        });\r\n    }, 500);\r\n  };\r\n\r\n  const handleResponse = (response) => {\r\n    if (response.status == 200) {\r\n      props.dispatch({type:QUEUE_MESSAGE, payload:{text:\"Registrado exitosamente. Ya puede iniciar sesión.\",type:'success'}});\r\n      history.push(\"/login\");\r\n    } else {\r\n      setLoading(false);\r\n      newMessage(response.data.message);\r\n    }\r\n  };\r\n\r\n  const newMessage = (msg) => {\r\n    const key = ~(Math.random() * 99999);\r\n    setMessage([...message, <Message key={key} text={msg}></Message>]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const listener = event => {\r\n      if (event.code === \"Enter\" || event.code === \"NumpadEnter\") {\r\n        sendData();\r\n      }\r\n    };\r\n    document.addEventListener(\"keydown\", listener);\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", listener);\r\n    };\r\n  }, [user]);\r\n\r\n  return (\r\n    <>\r\n      <Header></Header>\r\n      <Loading visible={loading}></Loading>\r\n      <div className=\"registerContainer\">\r\n        {message}\r\n        <div className=\"registerForm\">\r\n            <h2>Forma za registraciju</h2>\r\n            <p>Kreiranje naloga omogućava pregled postojećih termina i automatizovano zakazivanje novih bez potrebe da nas zovete.</p>\r\n\r\n            <div className=\"inputContainer twocols\">\r\n                <Form.Item validateStatus={errors.name?.status} help={errors.name?.help}>\r\n                    <FormInput label=\"Ime\" name=\"name\" onChange={updateUser} />\r\n                </Form.Item>\r\n                <Form.Item validateStatus={errors.lastname?.status} help={errors.lastname?.help}>\r\n                    <FormInput label=\"Prezime\" name=\"lastname\" onChange={updateUser} />\r\n                </Form.Item>\r\n            </div>\r\n            <div className=\"inputContainer\">\r\n                <Form.Item validateStatus={errors.address?.status} help={errors.address?.help}>\r\n                    <FormInput label=\"Adresa\" name=\"address\" onChange={updateUser} />\r\n                </Form.Item>\r\n            </div>\r\n            <div className=\"inputContainer twocols\">\r\n                <Form.Item validateStatus={errors.phone?.status} help={errors.phone?.help}>\r\n                    <FormInput label=\"Telefon\" name=\"phone\" onChange={updateUser} />\r\n                </Form.Item>\r\n                <Form.Item validateStatus={errors.born?.status} help={errors.born?.help}>\r\n                    <FormInput label=\"Datum Rodjenja\" name=\"born\" onChange={updateUser} />\r\n                </Form.Item>\r\n            </div>\r\n            <div className=\"inputContainer twocols\">\r\n                <Form.Item validateStatus={errors.email?.status} help={errors.email?.help}>\r\n                    <FormInput label=\"Email\" name=\"email\" onChange={updateUser}/>\r\n                </Form.Item>\r\n                <Form.Item validateStatus={errors.nif?.status} help={errors.nif?.help}>\r\n                    <FormInput label=\"Identifikacioni dokument\" name=\"nif\" onChange={updateUser} />\r\n                </Form.Item>\r\n            </div>\r\n            <div className=\"inputContainer twocols\">\r\n                <Form.Item validateStatus={errors.password?.status} help={errors.password?.help}>\r\n                    <FormInput type=\"Password\" label=\"Lozinka\" name=\"password\" onChange={updateUser} />\r\n                </Form.Item>\r\n                <Form.Item validateStatus={errors.passwordValidation?.status} help={errors.passwordValidation?.help}>\r\n                    <FormInput type=\"Password\" label=\"Potvrdite lozinku\" name=\"passwordValidation\" onChange={updateUser} />\r\n                </Form.Item>\r\n            </div>\r\n            <div className=\"buttonContainer\">\r\n                <CTAButton goto=\"login\" text=\"Već imam nalog\" styling=\"CTA\" />\r\n                <CTAButton text=\"Posalji\" onClick={() => sendData()}/>\r\n            </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default connect((state)=>({credentials: state.credentials,queuedmessage:state.message}))(Register);\r\n","\r\nimport React from 'react';\r\n\r\nimport {useHistory} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport {CLOSE_MENU , LOGOUT} from '../../redux/types';\r\n\r\n\r\nconst LeftMenu = (props) => {\r\n\r\n    let history = useHistory();\r\n\r\n    const route = (goto) => {\r\n        hideMenu();\r\n        history.push(goto);\r\n    }\r\n\r\n    const hideMenu = () => {\r\n        props.dispatch({type : CLOSE_MENU});\r\n    }\r\n\r\n    const logout = () => {\r\n        //localStorage.removeItem('credentials');\r\n        props.dispatch({type:LOGOUT})\r\n        history.push('/');\r\n    }\r\n    \r\n    let classes = {\r\n        container: 'LMContainer',\r\n        under: 'LMUnder',\r\n        profile: 'LMItem',\r\n        myappointments: 'LMItem',\r\n        newappointment: 'LMItem'\r\n    }\r\n    if (props.menu?.visible) {\r\n        classes.container += ' show';\r\n        classes.under += ' show';\r\n    }\r\n    switch (history.location.pathname) {\r\n        case '/profile':\r\n        case '/admin':\r\n            classes.profile += ' selected';\r\n            break;\r\n        case '/profile/my-appointments':\r\n        case '/admin/all-appointments':\r\n            classes.myappointments += ' selected';\r\n            break;\r\n        case '/profile/new-appointment':\r\n        case '/admin/create-appointment':\r\n            classes.newappointment += ' selected';\r\n            break;\r\n    }\r\n    let labels = {\r\n        profile: 'Mi perfil',\r\n        myappointments: 'Mis citas',\r\n        newappointment: 'Pedir cita'\r\n    }\r\n    let routes = {\r\n        profile: '/profile',\r\n        myappointments: '/profile/my-appointments',\r\n        newappointment: '/profile/new-appointment'\r\n    }\r\n    if (history.location.pathname.split('/')[1] == 'admin') {\r\n        labels = {\r\n            profile: 'Panel',\r\n            myappointments: 'Todas las citas',\r\n            newappointment: 'Nueva cita'\r\n        }\r\n        routes = {\r\n            profile: '/admin',\r\n            myappointments: '/admin/all-appointments',\r\n            newappointment: '/admin/create-appointment'\r\n        }\r\n        classes.newappointment += ' hidden';\r\n    }\r\n\r\n\r\n    return(\r\n        <>\r\n        <div className={classes.container}>\r\n            <div className=\"logo\"></div>\r\n            <div className={classes.profile} onClick={()=>route(routes.profile)}>\r\n                <div className=\"select\"></div>\r\n                <div className=\"LMItemTitle\">{labels.profile}</div>\r\n            </div>\r\n            <div className={classes.myappointments} onClick={()=>route(routes.myappointments)}>\r\n                <div className=\"select\"></div>\r\n                <div className=\"LMItemTitle\">{labels.myappointments}</div>\r\n            </div>\r\n            <div className={classes.newappointment} onClick={()=>route(routes.newappointment)}>\r\n                <div className=\"select\"></div>\r\n                <div className=\"LMItemTitle\">{labels.newappointment}</div>\r\n            </div>\r\n            <div className=\"LMItem\" onClick={logout}>\r\n                <div className=\"select\"></div>\r\n                <div className=\"LMItemTitle\">Cerrar sesión</div>\r\n            </div>\r\n        </div>\r\n        <div className={classes.under} onClick={()=>{hideMenu();}}></div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default connect((state)=>({menu:state.menu}))(LeftMenu);","import React, {useEffect, useState} from 'react';\r\nimport Header from '../../components/Header/Header';\r\nimport LeftMenu from '../../components/LeftMenu/LeftMenu';\r\nimport {useHistory} from 'react-router-dom';\r\nimport './Profile.scss';\r\nimport Avatar from '../../components/Avatar/Avatar';\r\nimport moment from 'moment';\r\nimport {connect} from 'react-redux';\r\nimport pidetucitaimg from '../../img/pideTuCita.png';\r\nimport CTAButton from '../../components/CTAButton/CTAButton';\r\nimport FormInput from \"../../components/FormInput/FormInput\";\r\nimport Loading from \"../../components/Loading/Loading\";\r\nimport Message from \"../../components/Message/Message\";\r\nimport validate from \"../../tools/validate\";\r\nimport axios from \"axios\";\r\nimport { Form } from \"antd\";\r\nimport { UPDATE_USER } from \"../../redux/types\";\r\n\r\n\r\nconst Profile = (props) => {\r\n\r\n    let history = useHistory();\r\n\r\n    let credentials = props.credentials;\r\n    \r\n    //let credentials = JSON.parse(localStorage.getItem('credentials'));\r\n\r\n    const [updating, setUpdating] = useState(false);\r\n    const [user, setUser] = useState({\r\n      name: credentials.user.name,\r\n      lastname: credentials.user.lastname,\r\n      address: credentials.user.address,\r\n      nif: credentials.user.nif,\r\n      born: credentials.user.born.split('T')[0],\r\n      phone: credentials.user.phone,\r\n    });\r\n    const [message, setMessage] = useState([]);\r\n    const [errors, setErrors] = useState({});\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    if(!credentials.user?.id) history.push('/login');\r\n\r\n    let UserAge = Math.floor(moment().diff(credentials.user.born, 'years',true));\r\n\r\n    const switchToUpdateProfile=()=>{\r\n        setUpdating(true);\r\n    }\r\n\r\n    const updateUser = (key, value) => {\r\n        setUser({ ...user, [key]: value });\r\n        if (Object.keys(errors).length > 0) setErrors(validate({ ...user, [key]: value }, \"register\"));\r\n    };\r\n\r\n    const updateUserData = async () => {\r\n        const errs = validate(user, \"register\");\r\n        setErrors(errs);\r\n    \r\n        if (Object.keys(errs).length > 0) return;\r\n    \r\n        let userData = {\r\n          name: user.name,\r\n          lastname: user.lastname,\r\n          address: user.address,\r\n          nif: user.nif,\r\n          born: user.born,\r\n          phone: user.phone,\r\n        };\r\n    \r\n        let userId = credentials.user.id;\r\n    \r\n        setLoading(true);\r\n        setTimeout(() => {\r\n          let token = credentials.token;\r\n          axios\r\n            .put(`https://reactdent-b.herokuapp.com/users/${userId}`, userData, { headers: { authorization: \"Bearer \" + token } })\r\n            .then(handleResponse)\r\n            .catch((err) => {\r\n              handleResponse({ data: { message: \"Error de conexión.\" } });\r\n            });\r\n        }, 500);\r\n    }\r\n\r\n    const handleResponse = (response) => {\r\n        if (response.status == 200) {\r\n          console.log(response.data);\r\n          props.dispatch({ type: UPDATE_USER, payload: response.data });\r\n          newMessage('Datos de usuario actualizados.', 'success');\r\n          setUpdating(false);\r\n          setLoading(false);\r\n        } else {\r\n          setLoading(false);\r\n          newMessage(response.data.message);\r\n        }\r\n    };\r\n    \r\n    const newMessage = (msg, type = 'error') => {\r\n        const key = ~(Math.random() * 99999);\r\n        setMessage([...message, <Message key={key} text={msg} style={type}></Message>]);\r\n    };\r\n\r\n    return (\r\n        <>\r\n        <Header></Header>\r\n        <section className=\"profileContainer\">\r\n            <LeftMenu></LeftMenu>\r\n            <div className=\"profile\">\r\n                {message}\r\n                <div className=\"bienvenida\">Bienvenido/a, {credentials.user.name}.</div>\r\n                <div className=\"cuerpo\">\r\n                    <div className=\"UserData\">\r\n                        <Loading visible={loading}/>\r\n                        {updating?(\r\n                            <>\r\n                            <div className=\"inputContainer\">\r\n                                <Form.Item validateStatus={errors.name?.status} help={errors.name?.help}>\r\n                                <FormInput value={user.name} label=\"Nombre\" name=\"name\" onChange={updateUser} />\r\n                                </Form.Item>\r\n                            </div>\r\n                            <div className=\"inputContainer\">\r\n                                <Form.Item validateStatus={errors.lastname?.status} help={errors.lastname?.help}>\r\n                                <FormInput value={user.lastname} label=\"Apellidos\" name=\"lastname\" onChange={updateUser} />\r\n                                </Form.Item>\r\n                            </div>\r\n                            <div className=\"inputContainer\">\r\n                                <Form.Item validateStatus={errors.address?.status} help={errors.address?.help}>\r\n                                <FormInput value={user.address} label=\"Dirección\" name=\"address\" onChange={updateUser} />\r\n                                </Form.Item>\r\n                            </div>\r\n                            <div className=\"inputContainer\">\r\n                                <Form.Item validateStatus={errors.phone?.status} help={errors.phone?.help}>\r\n                                <FormInput value={user.phone} label=\"Telefono\" name=\"phone\" onChange={updateUser} />\r\n                                </Form.Item>\r\n                            </div>\r\n                            <div className=\"inputContainer\">\r\n                                <Form.Item validateStatus={errors.born?.status} help={errors.born?.help}>\r\n                                <FormInput value={user.born} label=\"Fecha de nacimiento\" name=\"born\" onChange={updateUser} />\r\n                                </Form.Item>\r\n                            </div>\r\n                            <div className=\"inputContainer\">\r\n                                <Form.Item validateStatus={errors.nif?.status} help={errors.nif?.help}>\r\n                                <FormInput value={user.nif} label=\"Documento de identidad\" name=\"nif\" onChange={updateUser} />\r\n                                </Form.Item>\r\n                            </div>\r\n                            <div className=\"saveButton\">\r\n                                <CTAButton text=\"Guardar\" styling=\"CTA\" onClick={()=>updateUserData()}/>\r\n                            </div>\r\n                          </>\r\n                        ):(\r\n                            <>\r\n                            <div className=\"uno\">\r\n                                <div className=\"avatar\">\r\n                                    <Avatar name={credentials.user.name} styling=\"big\"/>\r\n                                </div>\r\n                                <div className=\"datosPersonalesUno\">\r\n                                <h2 className=\"datosPersonalesName\">{credentials.user.name}  {credentials.user.lastname}</h2>\r\n                                <div>{credentials.user.email}</div>\r\n                                <div>Edad: {UserAge} años</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"dos\">\r\n                                <div className=\"datosPersonalesDos\">\r\n                                <div className=\"datosPersonalesSection\">Información De Contacto</div> \r\n                                <div>{credentials.user.phone}</div> \r\n                                <div>{credentials.user.address}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"tres\">\r\n                                <div className=\"actualizarDatos\">\r\n                                    <div className=\"hoverUpdate\" onClick={()=>{switchToUpdateProfile()}}>Actualizar mi información</div> \r\n                                </div>\r\n                            </div>\r\n                            </>\r\n                        )}\r\n                    </div>\r\n                    <div className=\"ContenedorCita\">\r\n                        <img src={pidetucitaimg} className=\"FotoCalendario\" alt='Pide tu cita'/>\r\n                        <div className=\"PideCita\">\r\n                            <CTAButton goto=\"profile/new-appointment\" text=\"Pide una cita\" styling=\"CTA\"/>\r\n                        </div>\r\n                    </div>\r\n                   \r\n                </div>\r\n            </div>\r\n        </section>\r\n        <footer>\r\n            \r\n        </footer>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default connect((state)=>({credentials:state.credentials}))(Profile);","export default \"data:image/png;base64,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\"","\r\nconst mapDentist = (id) => {\r\n    switch (id) {\r\n        case 1:\r\n            return 'Dr. Iglesias Fornes David';\r\n        case 2:\r\n            return 'Dra. Flores Marín Lorena';\r\n        case 3:\r\n            return 'Dr. Zemmari Kissani Tarik';\r\n        case 4:\r\n            return 'Dra. Sanz Iglesias Noemi';\r\n    }\r\n}\r\n\r\nexport default mapDentist;","import React, {useState, useEffect} from \"react\";\r\nimport CTAButton from \"../CTAButton/CTAButton\";\r\n\r\nconst lefticon = (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" stroke=\"currentColor\" className=\"bi bi-chevron-left\" viewBox=\"0 0 16 16\">\r\n    <path fillRule=\"evenodd\" d=\"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z\" />\r\n  </svg>\r\n);\r\n\r\nconst righticon = (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" stroke=\"currentColor\" className=\"bi bi-chevron-right\" viewBox=\"0 0 16 16\">\r\n    <path fillRule=\"evenodd\" d=\"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z\" />\r\n  </svg>\r\n);\r\n\r\nconst DateTimePicker = (props) => {\r\n\r\n    const [page, setPage] = useState(0);\r\n    const [nitems, setNitems] = useState(5);\r\n    console.log(props.dates)\r\n\r\n    const loc = props.locale || 'es';\r\n    const npages = (~~(props.dates.length / nitems));\r\n    const dates = [];\r\n    const times = [];\r\n    for (let i=page*nitems; i<(page+1)*nitems ; i++) {\r\n        if (!props.dates[i]) break;\r\n        dates.push(\r\n            <div key={`date${i}`} className='date'>\r\n                <div className=\"datemonth\">\r\n                    {new Date(props.dates[i][0]).toLocaleDateString(loc, {month: 'numeric', day: 'numeric'})}\r\n                </div>\r\n                <div className=\"dateweek\">\r\n                    {new Date(props.dates[i][0]).toLocaleDateString(loc, {weekday: 'long'})}\r\n                </div>\r\n            </div>\r\n        );\r\n        let j=0;\r\n        times.push(\r\n            <div key={`times${i}`} className='times'>\r\n                {props.dates[i].map((time)=>{\r\n                    j++;\r\n                    return(\r\n                        <CTAButton key={`times${i}${j}`} text={new Date(time).toLocaleTimeString(loc, {hour:'numeric', minute:'numeric'})} styling='time' onClick={()=>{props.handler(time)}}></CTAButton>\r\n                    );\r\n                })}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const handleResize = () => {\r\n        if (window.innerWidth < 400) {\r\n            setNitems(2);\r\n        } else if (window.innerWidth < 575) {\r\n            setNitems(3);\r\n        } else {\r\n            setNitems(5);\r\n        } \r\n    }\r\n\r\n    useEffect(()=>{\r\n        setPage(0);\r\n    },[nitems])\r\n\r\n    useEffect(()=>{\r\n        handleResize();\r\n        window.addEventListener('resize', handleResize);\r\n        return () => {\r\n            window.removeEventListener('resize', handleResize)\r\n        };\r\n    },[])\r\n\r\n  return (\r\n    <div id=\"dateTimePicker\" className=\"dateTimePicker\">\r\n        <div className=\"dateContainer\">\r\n            <div className={page>0?'icon':'icon disabled'} onClick={()=>setPage(page-1>=0?page-1:page)}>{lefticon}</div>\r\n            {dates}\r\n            <div className={page+1<npages?'icon':'icon disabled'} onClick={()=>setPage(page+1<npages?page+1:page)}>{righticon}</div>\r\n        </div>\r\n        <div className=\"separator\"></div>\r\n        <div className=\"timeContainer\">\r\n            <div className=\"icon\"></div>\r\n            {times}\r\n            <div className=\"icon\"></div>\r\n        </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DateTimePicker;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Header from \"../../components/Header/Header\";\r\nimport { useHistory } from \"react-router-dom\";\r\n//import CTAButton from '../../components/CTAButton/CTAButton'\r\nimport FormInput from \"../../components/FormInput/FormInput\";\r\nimport LeftMenu from \"../../components/LeftMenu/LeftMenu\";\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\nimport mapDentist from \"../../tools/map-dentist\";\r\nimport { QUEUE_MESSAGE } from \"../../redux/types\";\r\nimport { Steps } from \"antd\";\r\nimport \"./Steps.css\";\r\nimport Message from '../../components/Message/Message';\r\nimport Loading from '../../components/Loading/Loading';\r\nimport DateTimePicker from \"../../components/DateTimePicker/DateTimePicker\";\r\nimport { Input } from 'antd';\r\nimport CTAButton from \"../../components/CTAButton/CTAButton\";\r\n\r\nconst { TextArea } = Input;\r\n\r\nconst { Step } = Steps;\r\n\r\n\r\nconst Appointment = (props) => {\r\n\r\n  let history = useHistory();\r\n  let credentials = props.credentials;\r\n  //let credentials = JSON.parse(localStorage.getItem('credentials'));\r\n\r\n  if (!credentials.user?.id) history.push(\"/login\");\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState([]);\r\n  const [slots, setSlots] = useState([]);\r\n  const [current, setCurrent] = useState(0);\r\n\r\n  const [appointment, setAppointment] = useState({\r\n    userId: credentials.user.id,\r\n    dentistId: \"\",\r\n    date: \"\",\r\n    comment: \"\"\r\n  });\r\n\r\n  const fetchSlots = (dentistId) => {\r\n    setLoading(true);\r\n    setTimeout(() => {\r\n      axios\r\n        .get(`https://reactdent-b.herokuapp.com/users/${credentials.user.id}/appointments/slots/${dentistId}`, { headers: { authorization: \"Bearer \" + credentials.token } })\r\n        .then(handleSlotResponse)\r\n        .catch((err) => {\r\n          handleSlotResponse({ data: { message: \"Error de conexión.\" } });\r\n        });\r\n    }, 500);\r\n  };\r\n\r\n  const handleSlotResponse = (response) => {\r\n    if (response.status == 200) {\r\n      setLoading(false);\r\n      setSlots(response.data);\r\n      setCurrent(1);\r\n    } else {\r\n      setLoading(false);\r\n      newMessage(response.data.message);\r\n    }\r\n  };\r\n\r\n  const newMessage = (msg, style = \"error\") => {\r\n    const key = ~(Math.random() * 999999999);\r\n    setMessage([...message, <Message key={key} text={msg} style={style}></Message>]);\r\n  };\r\n\r\n  const handler = (name, value) => {\r\n    setAppointment({ ...appointment, [name]: value });\r\n  };\r\n\r\n  const sendData = async () => {\r\n    let userId = credentials.user.id;\r\n    \r\n    let appointmentData = {\r\n      dentistId: appointment.dentistId,\r\n      date: appointment.date,\r\n      comment: appointment.comment,\r\n    };\r\n\r\n    let endpointAppointments = `https://reactdent-b.herokuapp.com/users/${userId}/appointments`;\r\n\r\n    let token = credentials.token;\r\n\r\n    setLoading(true);\r\n    setTimeout(() => {\r\n      axios\r\n        .post(endpointAppointments, appointmentData, { headers: { authorization: \"Bearer \" + token } })\r\n        .then(handleResponse)\r\n        .catch((err) => {\r\n          handleResponse({ data: { message: \"Error de conexión.\" } });\r\n        });\r\n    }, 500);\r\n  };\r\n\r\n  const handleResponse = (response) => {\r\n    if (response.status == 200) {\r\n      setLoading(false);\r\n      props.dispatch({ type: QUEUE_MESSAGE, payload: { text: \"Cita pedida con éxito.\", type: \"success\" } });\r\n      history.push(\"/profile/my-appointments\");\r\n    } else {\r\n      setLoading(false);\r\n      newMessage(response.data.message);\r\n    }\r\n  };\r\n\r\n  const setDentist = (value) => {\r\n    handler('dentistId',value);\r\n    fetchSlots(value);\r\n  }\r\n\r\n  const setDate = (value) => {\r\n    handler('date',value);\r\n    setCurrent(2);\r\n  }\r\n\r\n  const date = new Date(appointment.date);\r\n  let dateString = `${date.toLocaleDateString('es-es',{weekday:'long', day:'numeric', month:'long', year:'numeric'})} a las ${date.toLocaleTimeString('es-es',{hour:'numeric', minute:'numeric'})}h`;\r\n  dateString = dateString.charAt(0).toUpperCase() + dateString.slice(1);\r\n\r\n  const steps = [\r\n    {\r\n      title: \"Profesional\",\r\n      content:\r\n      <div className='selectPro'>\r\n        <h3>¿Con qué profesional?</h3>\r\n        <div value=\"1\" className=\"option\" onClick={()=>{setDentist(1)}}>{mapDentist(1)}</div>\r\n        <div value=\"2\" className=\"option\" onClick={()=>{setDentist(2)}}>{mapDentist(2)}</div>\r\n        <div value=\"3\" className=\"option\" onClick={()=>{setDentist(3)}}>{mapDentist(3)}</div>\r\n        <div value=\"4\" className=\"option\" onClick={()=>{setDentist(4)}}>{mapDentist(4)}</div>\r\n      </div>\r\n    },\r\n    {\r\n      title: \"Horario\",\r\n      content: \r\n      <>\r\n      <div className=\"dentistDetails\">\r\n        <div>Citas disponibles para <span style={{fontWeight:500}}>{mapDentist(appointment.dentistId)}</span></div>\r\n        <div className=\"back\" onClick={()=>{setCurrent(0)}}>Cambiar</div>\r\n      </div>\r\n      <DateTimePicker handler={setDate} dates={slots}/>\r\n      </>\r\n    },\r\n    {\r\n      title: \"Confirmación\",\r\n      content:\r\n      <div className='confirm'>\r\n        <div className=\"appointmentDetails\">\r\n          <div>\r\n            <div className=\"appointmentTitle\">Día y hora de tu cita</div>\r\n            <div className=\"appointmentDate\">{dateString}</div>\r\n          </div>\r\n          <div>\r\n            <div className=\"back\" onClick={()=>{setCurrent(1)}}>Editar</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"separator\"></div>\r\n        <div className=\"appointmentTitle\">Motivo de la consulta</div>\r\n        <TextArea placeholder='Escribe aquí el motivo de la consulta' onChange={(e)=>{handler('comment',e.target.value)}} rows={5}/>\r\n        <div className=\"buttonContainer\">\r\n          <CTAButton onClick={sendData} text='Confirmar cita'/>\r\n        </div>\r\n      </div>\r\n    },\r\n  ];\r\n\r\n  const next = () => {\r\n    setCurrent(current + 1);\r\n  };\r\n\r\n  const prev = () => {\r\n    setCurrent(current - 1);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Header></Header>\r\n      <div className=\"container\">\r\n        <LeftMenu></LeftMenu>\r\n        <div className=\"right\">\r\n          <div className=\"title\">Nueva cita</div>\r\n          <div className=\"form\">\r\n            <Steps current={current}>\r\n              {steps.map((item) => (\r\n                <Step key={item.title} title={item.title} />\r\n              ))}\r\n            </Steps>\r\n            <div className=\"steps-content\">\r\n              <Loading visible={loading}></Loading>\r\n              {steps[current].content}\r\n              </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default connect((state) => ({ credentials: state.credentials }))(Appointment);\r\n","\r\nimport React from 'react';\r\n\r\nimport { Switch } from 'antd';\r\n\r\nconst FormSwitch = (props) => {\r\n    \r\n    let switchlabel = 'label';\r\n    if (props.checked) switchlabel += ' checked';\r\n\r\n    return(\r\n        <div className=\"switch\" onClick={props.onClick}>\r\n            <div className={switchlabel}>{props.label}</div>\r\n            <Switch checked={props.checked}></Switch>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FormSwitch;","import React, {useEffect, useState} from 'react';\r\nimport Header from '../../components/Header/Header';\r\nimport LeftMenu from '../../components/LeftMenu/LeftMenu';\r\nimport {useHistory} from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\nimport Message from '../../components/Message/Message';\r\nimport Loading from '../../components/Loading/Loading';\r\nimport Switch from '../../components/Switch/Switch';\r\nimport {connect} from 'react-redux';\r\nimport mapDentist from '../../tools/map-dentist'\r\nimport {DELETE_MESSAGE} from '../../redux/types'\r\n\r\n\r\n\r\nconst Appointments = (props) => {\r\n\r\n    let history = useHistory();\r\n    let credentials = props.credentials;\r\n    //let credentials = JSON.parse(localStorage.getItem('credentials'));\r\n\r\n    if(!credentials.user?.id) history.push('/login');\r\n\r\n    const [appointments, setAppointments] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [message, setMessage] = useState([]);\r\n    const [pending, setPending] = useState(false);\r\n    \r\n    useEffect(()=>{\r\n        fetchAppointments();\r\n    },[]);\r\n\r\n    useEffect(()=>{\r\n        if (pending) fetchAppointments('?pending=true');\r\n        else fetchAppointments();\r\n    },[pending]);\r\n\r\n    const togglePending = () => {\r\n        setPending(!pending);\r\n    }\r\n\r\n    const fetchAppointments = (query = '') => {\r\n        setLoading(true);\r\n        setTimeout(()=>{\r\n            axios.get(`https://reactdent-b.herokuapp.com/users/${credentials.user.id}/appointments${query}`,{headers:{'authorization':'Bearer ' + credentials.token}})\r\n            .then(handleResponse)\r\n            .catch((err)=>{handleResponse({data:{message:'Error de conexión.'}})});\r\n        },500);\r\n    }\r\n    \r\n    const handleResponse = (response) => {\r\n        if (response.status == 200) {\r\n            setLoading(false);\r\n            setAppointments(response.data);\r\n        } else {\r\n            setLoading(false);\r\n            newMessage(response.data.message);\r\n        }\r\n    }\r\n\r\n    const newMessage = (msg, style = 'error') => {\r\n        const key = (~(Math.random()*999999999));\r\n        setMessage([...message,<Message key={key} text={msg} style={style}></Message>]);\r\n    }\r\n\r\n    const cancelAppointment = (id) => {\r\n        let confirmed = window.confirm('¿Seguro que desea cancelar la cita?');\r\n        if (confirmed) {\r\n            setLoading(true);\r\n            setTimeout(()=>{\r\n                axios.delete(`https://reactdent-b.herokuapp.com/users/${credentials.user.id}/appointments/${id}`,{headers:{'authorization':'Bearer ' + credentials.token}})\r\n                .then(()=>axios.get(`https://reactdent-b.herokuapp.com/users/${credentials.user.id}/appointments`,{headers:{'authorization':'Bearer ' + credentials.token}}))\r\n                .then(handleResponse)\r\n                .then(()=>{newMessage('Cita cancelada con éxito','success')})\r\n                .catch((err)=>{handleResponse({data:{message:'Error de conexión.'}})});\r\n            },500);\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n    if (props.queuedmessage.text) {\r\n        newMessage(props.queuedmessage.text,props.queuedmessage.type);\r\n        props.dispatch({type:DELETE_MESSAGE});\r\n    }\r\n    },[]);\r\n\r\n    return (\r\n        <>\r\n        <Header></Header>\r\n        <section className=\"appointmentsContainer\">\r\n            <LeftMenu></LeftMenu>\r\n            <div className=\"appointments\">\r\n                {message}\r\n                <Loading visible={loading}></Loading>\r\n                <div className=\"titleContainer\">\r\n                    <div className=\"titulo\">Mis citas</div>\r\n                    <Switch label='Próximas' checked={pending} onClick={()=>{togglePending();}}></Switch>\r\n                </div>\r\n                {appointments.map((appointment)=>{\r\n                    const key = (~(Math.random()*999999999));\r\n                    let dentist = mapDentist(appointment.dentistId) || 'Sin asignar';\r\n                    let cancel;\r\n                    if (moment(appointment.date).diff(new Date) > 0)\r\n                    cancel = <div id={appointment.id} onClick={(e)=>{cancelAppointment(e.target.id)}} className=\"cancel\">Cancelar cita</div>;\r\n                    return(\r\n                        <div key={key} className=\"appointment\">\r\n                            <div className=\"date\">\r\n                                <div>{moment(appointment.date).format('D/M/Y')}</div>\r\n                                <div>{moment(appointment.date).format('H:mm')}</div>\r\n                            </div>\r\n                            <div className=\"data\">\r\n                                <div className=\"row\">\r\n                                    <div className=\"title\">Dentista:</div>\r\n                                    <div className=\"datum\">{dentist}</div>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    <div className=\"title\">Comentarios:</div>\r\n                                    <div className=\"datum\">{appointment.comment}</div>\r\n                                </div>\r\n                            </div>\r\n                            {cancel}\r\n                        </div>\r\n                    );\r\n                })}\r\n            </div>\r\n        </section>\r\n        <footer>\r\n            \r\n        </footer>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default connect((state)=>({credentials:state.credentials,queuedmessage:state.message}))(Appointments);","import React from 'react';\r\nimport Header from '../../components/Header/Header';\r\nimport LeftMenu from '../../components/LeftMenu/LeftMenu';\r\nimport {useHistory} from 'react-router-dom';\r\nimport './Admin.scss';\r\n\r\nimport {connect} from 'react-redux'\r\n\r\n\r\n\r\n\r\nconst Admin = (props) => {\r\n\r\n    let history = useHistory();\r\n    let credentials=props.credentials;\r\n   // let credentials = JSON.parse(localStorage.getItem('credentials'));\r\n\r\n    if(!credentials.user?.id) history.push('/login');\r\n    if(!credentials.user?.admin) history.push('/profile');\r\n\r\n    return (\r\n        <>\r\n        <Header></Header>\r\n        <section className=\"adminContainer\">\r\n            <LeftMenu></LeftMenu>\r\n            <div className=\"admin\">\r\n                <div className=\"bienvenida\">Panel de administrador</div>\r\n            </div>\r\n        </section>\r\n        <footer>\r\n            \r\n        </footer>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default connect((state)=>({credentials:state.credentials}))(Admin);","import React, {useEffect, useState} from 'react';\r\nimport Header from '../../components/Header/Header';\r\nimport LeftMenu from '../../components/LeftMenu/LeftMenu';\r\nimport {useHistory} from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\nimport Message from '../../components/Message/Message';\r\nimport Loading from '../../components/Loading/Loading';\r\nimport Switch from '../../components/Switch/Switch';\r\nimport {connect} from 'react-redux';\r\nimport mapDentist from '../../tools/map-dentist'\r\n\r\n\r\n\r\nconst AllAppointments = (props) => {\r\n\r\n    let history = useHistory();\r\n    let credentials = props.credentials;\r\n   // let credentials = JSON.parse(localStorage.getItem('credentials'));\r\n\r\n    if(!credentials.user?.id) history.push('/login');\r\n\r\n    const [appointments, setAppointments] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [message, setMessage] = useState([]);\r\n    const [pending, setPending] = useState(false);\r\n    \r\n    useEffect(()=>{\r\n        fetchAppointments();\r\n    },[]);\r\n\r\n    useEffect(()=>{\r\n        if (pending) fetchAppointments('?pending=true');\r\n        else fetchAppointments();\r\n    },[pending]);\r\n\r\n    const togglePending = () => {\r\n        setPending(!pending);\r\n    }\r\n\r\n    const fetchAppointments = (query = '') => {\r\n        setLoading(true);\r\n        setTimeout(()=>{\r\n            axios.get(`https://reactdent-b.herokuapp.com/appointments${query}`,{headers:{'authorization':'Bearer ' + credentials.token}})\r\n            .then(handleResponse)\r\n            .catch((err)=>{handleResponse({data:{message:'Error de conexión.'}})});\r\n        },500);\r\n    }\r\n    \r\n    const handleResponse = (response) => {\r\n        if (response.status == 200) {\r\n            setLoading(false);\r\n            setAppointments(response.data);\r\n        } else {\r\n            setLoading(false);\r\n            newMessage(response.data.message);\r\n        }\r\n    }\r\n\r\n    const newMessage = (msg, style = 'error') => {\r\n        const key = (~(Math.random()*999999999));\r\n        setMessage([...message,<Message key={key} text={msg} style={style}></Message>]);\r\n    }\r\n\r\n    const cancelAppointment = (id) => {\r\n        let confirmed = window.confirm('¿Seguro que desea cancelar la cita?');\r\n        if (confirmed) {\r\n            setLoading(true);\r\n            setTimeout(()=>{\r\n                axios.delete(`https://reactdent-b.herokuapp.com/users/${credentials.user.id}/appointments/${id}`,{headers:{'authorization':'Bearer ' + credentials.token}})\r\n                .then(()=>axios.get(`https://reactdent-b.herokuapp.com/users/${credentials.user.id}/appointments`,{headers:{'authorization':'Bearer ' + credentials.token}}))\r\n                .then(handleResponse)\r\n                .then(()=>{newMessage('Cita cancelada con éxito','success')})\r\n                .catch((err)=>{handleResponse({data:{message:'Error de conexión.'}})});\r\n            },500);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <Header></Header>\r\n        <section className=\"allAppointmentsContainer\">\r\n            <LeftMenu></LeftMenu>\r\n            <div className=\"allAppointments\">\r\n                {message}\r\n                <Loading visible={loading}></Loading>\r\n                <div className=\"titleContainer\">\r\n                    <div className=\"titulo\">Todas las citas</div>\r\n                    <Switch label='Próximas' checked={pending} onClick={()=>{togglePending();}}></Switch>\r\n                </div>\r\n                {appointments.map((appointment)=>{\r\n                    const key = (~(Math.random()*999999999));\r\n                    let dentist = mapDentist(appointment.dentistId) || 'Sin asignar';\r\n                    let cancel;\r\n                    if (moment(appointment.date).diff(new Date) > 0)\r\n                    cancel = <div id={appointment.id} onClick={(e)=>{cancelAppointment(e.target.id)}} className=\"cancel\">Cancelar cita</div>;\r\n                    return(\r\n                        <div key={key} className=\"appointment\">\r\n                            <div className=\"date\">\r\n                                <div>{moment(appointment.date).format('D/M/Y')}</div>\r\n                                <div>{moment(appointment.date).format('H:mm')}</div>\r\n                            </div>\r\n                            <div className=\"data\">\r\n                                <div className=\"row\">\r\n                                    <div className=\"title\">Cliente:</div>\r\n                                    <div className=\"datum\">{appointment.User.name} {appointment.User.lastname}</div>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    <div className=\"title\">Dentista:</div>\r\n                                    <div className=\"datum\">{dentist}</div>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    <div className=\"title\">Comentarios:</div>\r\n                                    <div className=\"datum\">{appointment.comment}</div>\r\n                                </div>\r\n                            </div>\r\n                            {cancel}\r\n                        </div>\r\n                    );\r\n                })}\r\n            </div>\r\n        </section>\r\n        <footer>\r\n            \r\n        </footer>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default connect((state)=>({credentials:state.credentials}))(AllAppointments);","import React, { useState, useEffect } from 'react';\nimport Header from '../../components/Header/Header'; \nimport cenovnik from '../../cenovnik.json';\nimport './Prices.scss'\n\nconst Prices =()=>{\n\n    let response = cenovnik;\n    const [allData,setAllData] = useState([]);\n    const [filteredData,setFilteredData] = useState(allData);\n\n    useEffect(() => {\n        setAllData(response);\n        setFilteredData(response);\n        }, []);\n\n    // console.log(response);\n\n    const handleSearch = (event) => {\n        let value = event.target.value.toLowerCase();\n        let result = [];\n        result = allData.filter((data) => {\n        return data.name.search(value) != -1;\n        });\n\n        if(filteredData.length == 0) {\n            \n        }\n\n        setFilteredData(result);\n    }\n\n    return(\n        <div>       \n             <Header/>\n            <div style={{ margin: '0px auto'}}>\n                <div style={{ marginTop: '1em' }} className=\"priceheader\">\n                    <input type=\"text\" placeholder='PRETRAGA' onChange={(event) =>handleSearch(event)} />\n                </div>\n\n                <table className=\"pricelist\">\n                    <thead>\n                        <tr>\n                        <th>Naziv artikla</th>\n                        <th>Cena</th>\n                        </tr>\n                    </thead>\n\n                    <tbody>\n                        {filteredData.length == 0 ? \n                        <p className=\"error\">Ne postoji takav artikal. Posaljite nam poruku ako imate posebnih zahteva.</p> :  \n                        filteredData.map((value,index)=>{\n                            return(\n                                <tr key={value.code}>\n                                    <td>{value.name}</td>\n                                    <td>{value.price} RSD</td>\n                                </tr>\n                            )\n                            })}\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    )\n\n}\n\nexport default Prices","import React from 'react';\r\nimport {BrowserRouter, Switch ,Route} from 'react-router-dom';\r\nimport './App.scss';\r\nimport Login from './containers/Login/Login';\r\nimport Home from './containers/Home/Home';\r\nimport Register from './containers/Register/Register';\r\nimport Profile from './containers/Profile/Profile';\r\nimport NewAppointment from './containers/New-appointment/New-appointment';\r\nimport Appointments from './containers/Appointments/Appointments';\r\nimport Admin from './containers/Admin/Admin';\r\nimport AllAppointments from './containers/AllAppointments/AllAppointments';\r\nimport Prices from './components/Prices/Prices';\r\n\r\n\r\nfunction App() {\r\n  return (\r\n\r\n    <div className=\"App\">\r\n        \r\n\r\n        <BrowserRouter>\r\n            \r\n            <Switch>\r\n\r\n            \r\n            <Route path='/' exact component={Home}/>\r\n            <Route path='/login' exact component ={Login}/>\r\n            <Route path='/register' exact component ={Register}/>\r\n            <Route path='/profile' exact component ={Profile}/>\r\n            <Route path='/profile/my-appointments' exact component={Appointments}/>\r\n            <Route path='/profile/new-appointment' exact component={NewAppointment}/>\r\n            <Route path='/admin' exact component ={Admin}/>\r\n            <Route path='/admin/all-appointments' exact component ={AllAppointments}/>\r\n            <Route path='/cenovnik' exact component={Prices} />\r\n            \r\n            \r\n            </Switch>\r\n            \r\n        </BrowserRouter>\r\n\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import {LOGIN, LOGOUT , UPDATE_USER} from '../types';\r\n\r\nconst initialState = {\r\n    user : {},\r\n    token : ''\r\n};\r\n\r\nconst credentialsReducer = (state = initialState, action) => {\r\n    switch(action.type){\r\n        case LOGIN :\r\n            return action.payload;\r\n        \r\n        case LOGOUT : \r\n            return initialState;\r\n            \r\n        case UPDATE_USER :\r\n            return {...state , user: action.payload};\r\n\r\n        default : \r\n            return state\r\n    }\r\n}\r\n\r\nexport default credentialsReducer;","import {OPEN_MENU, CLOSE_MENU} from '../types';\r\n\r\nconst initialState = {\r\n    visible: false\r\n};\r\n\r\nconst menuReducer = (state = initialState, action) => {\r\n    switch(action.type){\r\n        case OPEN_MENU :\r\n            return {visible:true};\r\n        \r\n        case CLOSE_MENU : \r\n            return {visible:false};\r\n\r\n        default : \r\n            return state\r\n    }\r\n}\r\n\r\nexport default menuReducer;","import {QUEUE_MESSAGE, DELETE_MESSAGE} from '../types';\r\n\r\nconst initialState = {};\r\n\r\nconst messageReducer = (state = initialState, action) => {\r\n    switch(action.type){\r\n        case QUEUE_MESSAGE :\r\n            return action.payload;\r\n\r\n        case DELETE_MESSAGE :\r\n            return initialState;\r\n\r\n        default : \r\n            return state\r\n    }\r\n}\r\n\r\nexport default messageReducer;","import {combineReducers} from 'redux';\r\nimport credentials from './credentials-reducer.js';\r\nimport menu from './menu-reducer.js';\r\nimport message from './message-reducer.js';\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n    credentials,\r\n    menu,\r\n    message\r\n});\r\n\r\nexport default rootReducer;","import {applyMiddleware, createStore} from 'redux';\r\nimport { save, load } from \"redux-localstorage-simple\";\r\nimport reducer from './reducers';\r\n\r\nconst createStoreWithMiddleware = applyMiddleware(\r\n\tsave({ states: ['credentials'] })\r\n)(createStore);\r\n\r\nconst store = createStoreWithMiddleware(\r\n    reducer,\r\n    load({ states: ['credentials'] })\r\n    /* window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__({\r\n        trace: true,\r\n    }) */\r\n);\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\n//Redux\r\nimport {Provider} from 'react-redux';\r\nimport store from './redux/store';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}